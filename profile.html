<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Profile Card</title>
        <link rel="stylesheet" href="./css/style.css" />
    </head>
    <body>
        <div id="root">
            <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
            <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
            <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
            <script type="text/babel">
                function ProfileCard() {
                    const [profile, setProfile] = React.useState({});
                    const [Loading, setLoading] = React.useState(false);

                    const fetchData = async () => {
                        setLoading(true);
                        const response = await fetch("https://jsonplaceholder.typicode.com/users/1");
                        const result = await response.json();
                        // const result = {
                        //     id: 1,
                        //     name: "Leanne Graham",
                        //     username: "Bret",
                        //     email: "Sincere@april.biz",
                        //     address: {
                        //         street: "Kulas Light",
                        //         suite: "Apt. 556",
                        //         city: "Gwenborough",
                        //         zipcode: "92998-3874",
                        //         geo: {
                        //             lat: "-37.3159",
                        //             lng: "81.1496",
                        //         },
                        //     },
                        //     phone: "1-770-736-8031 x56442",
                        //     website: "hildegard.org",
                        //     company: {
                        //         name: "Romaguera-Crona",
                        //         catchPhrase: "Multi-layered client-server neural-net",
                        //         bs: "harness real-time e-markets",
                        //     },
                        // };
                        console.log(result);
                        setProfile(result);
                        setLoading(false);
                    };
                    React.useEffect(() => {
                        fetchData();
                    }, []);

                    return (
                        <div class="container">
                            <a href="/" class="btn-back">
                                ⬅ Back
                            </a>
                            {profile && Loading ? (
                                <div>Đang tải…</div>
                            ) : (
                                <div class="profile-wrap">
                                    <div class="profile-name">{profile.name}</div>
                                    <div class="profile-username">{profile.username}</div>
                                    <div class="profile-email">{profile.email}</div>
                                    <div class="profile-phone">{profile.phone}</div>
                                    <div class="profile-website">{profile.website}</div>
                                    <div class="profile-address">
                                        {profile.address?.street}, {profile.address?.city}
                                    </div>
                                </div>
                            )}
                        </div>
                    );
                }

                const app = <ProfileCard />;
                const root = ReactDOM.createRoot(document.querySelector("#root"));
                root.render(app);
            </script>
        </div>
    </body>
</html>
